<class
    name = "dax_chirp_msg"
    virtual = "1"
    signature = "0"
    title = "DAX Chirp Message Protocol"
    script = "zproto_codec_c"
    package_dir = "../include"
    >
  This is a test message for Zyre based protocols.

  Messages must specify at least "uuid" and "name".  A group field may
  be defined.

  <message name = "HELLO" >
    <field name = "uuid" type = "string">UUID of the sender</field>
    <field name = "name" type = "string">Name of the sender</field>
    <field name = "group" type = "string">Group this message was sent to</field>
  </message>
  
  A message sent from the API injected into the state machine.  See
  "please chat" method in dax_chirp_peer.xml.

  <message name = "PLEASE CHAT" >
    <field name = "message" type = "string">Chat message to this group</field>
  </message>

  Some chat message

  <message name = "CHAT" >
    <field name = "uuid" type = "string">UUID of the sender</field>
    <field name = "name" type = "string">Name of the sender</field>
    <field name = "message" type = "string">Chat message to this group</field>
  </message>


  Whisper messages will be populated by the identity information of
  the peer that is whispering
  
  <message name = "WORLD" >
    <field name = "uuid" type = "string">UUID of the sender</field>
    <field name = "name" type = "string">Name of the sender</field>
  </message>

  Must also handle Zyre events

  <message name = "ZYRE_ENTER">
    A peer has entered the network
    <field name = "uuid" type = "string">UUID of the sender</field>
    <field name = "name" type = "string">Name of the sender</field>
    <field name = "headers" type = "hash">Headers for the entering peer</field>
  </message>

  <message name = "ZYRE_JOIN">
    A peer has joined a group
    <field name = "uuid" type = "string">UUID of the sender</field>
    <field name = "name" type = "string">Name of the sender</field>
    <field name = "group" type = "string">Group the sender is joining</field>
  </message>

  <message name = "ZYRE_LEAVE">
    A peer has left a group
    <field name = "uuid" type = "string">UUID of the sender</field>
    <field name = "name" type = "string">Name of the sender</field>
  </message>

  <message name = "ZYRE_EXIT">
    A peer has exited the network
    <field name = "uuid" type = "string">UUID of the sender</field>
    <field name = "name" type = "string">Name of the sender</field>
  </message> 

  <message name = "ZYRE_STOP">
    <field name = "uuid" type = "string">UUID of the sender</field>
    <field name = "name" type = "string">Name of the sender</field>
  </message>
  
  <message name = "ZYRE_EVASIVE">
    A peer is being evasive
    <field name = "uuid" type = "string">UUID of the sender</field>
    <field name = "name" type = "string">Name of the sender</field>
  </message>
  

</class>
