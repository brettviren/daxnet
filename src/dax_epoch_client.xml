<class
    name = "dax_epoch_client"
    title = "DAX Epoch Client"
    script = "zproto_client_c"
    protocol_class = "dax_epoch"
    package_dir = "../include"
    project_header = "dax_classes.h"
    >
  This is the DAX timeline client implementation.  It talks to the
  server to get status of the current timeline.

  <include filename = "../license.xml"/>

  <state name = "start">
    <event name="constructor" next="connected">
      <action name="connect to server"/>
      <action name="send" message="STATUS"/>
    </event>
  </state>
  <state name="connected">
    <event name="TIMELINE" next = "updating">
      <action name = "new timeline"/>
      <action name = "subscribe"/>
    </event>
  </state>

  <state name="updating">
    <event name="new epoch" next = "updating">
      <action name = "forward debut"/>
    </event>
    <event name="del epoch" next = "updating">
      <action name = "forward rescind"/>
    </event>
  </state>

  <method name="constructor">
    Connect to timeline server.
    <field name="endpoint" type="string"/>
    <field name="publisher" type="string"/>
    <field name = "tbeg" type="number" size="8"/>
  </method>

</class>
